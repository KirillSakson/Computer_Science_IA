{% from "bootstrap5/utils.html" import render_messages %}
{% from "bootstrap5/form.html" import render_form %}


<!DOCTYPE html>
<html lang="en">

	<head>
		{% block head %}
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

			{% block styles %}
				{{ bootstrap.load_css() }}
			{% endblock %}

			{% block title %}
				<title>Board games Library</title>
			{% endblock %}
		{% endblock %}
	</head>

	<body>
		{% block navbar %}
			<nav class="navbar navbar-expand-lg bg-body-tertiary">
				{% if current_user.is_authenticated %}
					<div class="container-fluid">
						<a class="navbar-brand" href="/">Hello, {{ current_user.username }}!</a>
						<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      						<span class="navbar-toggler-icon"></span>
    					</button>

						<div class="collapse navbar-collapse" id="navbarSupportedContent">
							<ul class="navbar-nav me-auto mb-2 mb-lg-0">
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="/home">Home</a>
								</li>
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="/all_boardgames">All board games</a>
								</li>
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="/favourite">Favourite board games</a>
								</li>
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="/my_boardgames">My board games</a>
								</li>
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="/account">My account</a>
								</li>
							</ul>
							<form class="d-flex" role="search" action="/search" method="get">
								<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="query">
							</form>
							<ul class="navbar-nav">
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="/logout">Log out</a>
								</li>
							</ul>
						</div>
					</div>

				{% else %}
					<div class="container-fluid">
						<a class="navbar-brand" href="/">About us</a>
						<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
						<div class="collapse navbar-collapse" id="navbarSupportedContent2">
							<ul class="navbar-nav me-auto mb-2 mb-lg-0">
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="/login">Log in</a>
								</li>
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="/registration">Registration</a>
								</li>
							</ul>
						</div>
					</div>
				{% endif %}
			</nav>
		{% endblock %}

		{% block content %}
			<div class="container">
				<div style="text-align: center">
					{{ render_messages() }}
				</div>

				{% block app_content %}

				{% endblock %}

			</div>
		{% endblock %}

		{% block scripts %}
            {{ bootstrap.load_js() }}
        {% endblock %}
	</body>

</html>